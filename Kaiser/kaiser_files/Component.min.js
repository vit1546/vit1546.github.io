/* Copyright Â© 2016 Epic Systems Corporation. */

/*! Copyright (c) Epic Systems Corporation 2014-2015 */
$$WP.Components={Instances:[],getInstance:function Components$Component$getInstance(a){return $$WP.Components.Instances[a]},findComponent:function Behaviors$EventHandlers$findComponent(a){while(a!==document.body&&!$(a).attr("data-component"))a=a.parentNode;var b=$(a).data("component");return isNaN(b)?null:$$WP.Components.getInstance(b)}};$$WP.Utilities.declareComponent("Components.Component");$$WP.Components.Component.prototype={Tag:"div",Class:"",mnemonics:{},_click:function Components$Component$_click(){},_clickContext:null,Toolbar:{Class:"toolbar"},_Init:function $$WP$Components$Component$_Init(b){var a=this;a._componentNumber=$$WP.Components.Instances.length;$$WP.Components.Instances.push(a);b=b||{};a.$container=b.$container||a.$container||null;if(!a.$container)a.$container=b.$container||$(document.createElement(a.Settings.Tag||a.Tag||"div"));a.$container.addClass(b.Class||"");a.$container.attr("data-component",String(a._componentNumber));if(typeof b.Html==="string"){a.html(b.Html);delete a.Html}var c;a._events=b.Events||[];for(c in b)if(typeof c==="string"&&c.substr(0,1)==="_"){a[c]=b[c];c.indexOf("Context")===-1&&a._events.push(c.substr(1))}a._visible=true;(a.Components$Component$hide||a.hide).apply(a);b.Toolbar=$$WP.Utilities.mergeObjects(a.Toolbar,b.Toolbar,1);b.Toolbar=$$WP.Utilities.mergeObjects($$WP.Components.Component.prototype.Toolbar,b.Toolbar);if(b.Toolbar.Buttons&&b.Toolbar.Buttons.length>0){a.toolbar=new $$WP.Components.ButtonBar({Data:b.Toolbar});a.$container.append(a.toolbar.$container);a.$container.append(document.createElement("div"));a.toolbar.show();delete b.Toolbar}},Settings:{},_componentNumber:1,focus:function Components$Component$focus(){try{this.FocusOnClose=WP.DOM.Search.getFocused(document.body)}catch(b){}try{WP.DOM.Search.getNextFocusable(this.$container.get(0)).focus()}catch(a){}},html:function $$WP$Components$Component$html(b){var a=this;b=$$WP.Components.Component.decodeMnemonics(b||"",a.mnemonics);if(a.toolbar)a.$container.children(2,"div").get(1).innerHTML=b;else a.$container.html(b);a.Container&&a.Container.reposition&&a.Container.reposition(false);return true},dispose:function Components$Component$dispose(b){this.$container.html("");b&&this.$container.remove();$$WP.Components.Instances[this._componentNumber]=null;var a=$$WP.Components.Instances;while(a[a.length-1]===null)a.pop()},show:function Components$Component$show(){var a=this;if(a._visible===true)return;a._visible=true;a.$container.removeClass("hidden");for(var b=0;b<a._events.length;b++)$$WP.Behaviors.EventHandlers.on(a._events[b],a)},hide:function Components$Component$hide(){var a=this;if(a._visible===false)return;a._visible=false;a.$container.addClass("hidden");for(var b=0;b<a._events.length;b++)$$WP.Behaviors.EventHandlers.off(a._events[b],a)}};$$WP.Components.Component.decodeMnemonics=function Components$Component$decodeMnemonics(b,a){if(!a)return b;var c,d;for(c in a)if(typeof a[c]!=="function")try{d=new RegExp("@MYCHART@"+c+"@","g");b=b.replace(d,a[c])}catch(e){}return b}