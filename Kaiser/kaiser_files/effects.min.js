/* Copyright Â© 2016 Epic Systems Corporation. */

/*! Copyright (c) Epic Systems Corporation 2009-2015 */
function specialEffects(){var s="textarea",d=true,r="autocomplete",j="printmode",c=false,a,b,h,p,o,i,q,m,e,g,k,n,l,f,t;if(!document.getElementsByTagName||!document.getElementById)return c;h=window.location.toString();setScannedImageSize();WP.Menu();if(h.indexOf(j)==-1){try{generateTableEffects()}catch(v){}try{setupTabbedSections()}catch(u){}}resizeLargeImgAndTable();if(typeof loadGraphs==="function")try{loadGraphs()}catch(w){}p=document.getElementsByTagName("form");for(a=0;a<p.length;a++)p[a].setAttribute(r,"off");o=document.getElementsByTagName("input");for(a=0;a<o.length;a++)o[a].setAttribute(r,"off");if(h.indexOf(j)==-1&&!window.location.hash&&$("html.mobile").length==0){i=c;t=function(b,a){while(a&&a!==document.body){if(a.id===b)return d;a=a.parentNode}return c};for(b=0;b<document.forms.length;b++){if(!t("menu",document.forms[b]))for(a=0;a<document.forms[b].length;a++){if(document.forms[b][a].type!="hidden"&&document.forms[b][a].className.indexOf("readonly")==-1&&document.forms[b][a].className.indexOf("hidden")==-1&&document.forms[b][a].className.indexOf("button")==-1&&document.forms[b][a].className.indexOf("radio")==-1&&document.forms[b][a].className.indexOf("noautofocus")==-1&&document.forms[b][a].nodeName.toLowerCase()!="fieldset"&&document.forms[b][a].disabled!=d&&document.forms[b][a].parentNode.style.display!="none"){document.forms[b][a].focus();i=d}if(i)break}if(i)break}if(h.indexOf("reply")>0){q=document.getElementsByTagName(s);q.length>0&&q[0].focus()}}!window.location.hash&&setTimeout(function(){window.scroll(0,0)},1);m=document.getElementById("printbar");if(m)m.style.display="block";if(h.indexOf(j)>0){if(document.getElementById("main"))f=document.getElementById("main");else f=document.getElementById("datatile");e=f.getElementsByTagName("a");for(a=0;a<e.length;a++){e[a].href="";e[a].onclick="";e[a].removeAttribute("href");e[a].removeAttribute("onclick");e[a].removeAttribute("title");e[a].removeAttribute("target")}g=f.getElementsByTagName("tr");for(a=0;a<g.length;a++){g[a].onclick="";g[a].removeAttribute("onclick");g[a].removeAttribute("title")}k=f.getElementsByTagName("input");for(a=0;a<k.length;a++)k[a].disabled=d;n=f.getElementsByTagName("select");for(a=0;a<n.length;a++)n[a].disabled=d;l=f.getElementsByTagName(s);for(a=0;a<l.length;a++)l[a].disabled=d}preventBadAnchorJump.hasContentiousCSS=function(){var f,a=0,e,b,g;while(!f&&a<document.styleSheets.length){e=document.styleSheets[a];if(e&&e.href&&e.href.indexOf("inside.css")>0)f=e;a++}if(!f)return c;b=f.cssRules;if(!b)return c;for(a=0;a<b.length;a++)if(b[a].selectorText===".menuontop #main::before"||b[a].selectorText===".menuontop #main:before"){g=b[a];break}if(!g)return c;preventBadAnchorJump.targetRule=g;return d}();preventBadAnchorJump.hasContentiousCSS===d&&preventBadAnchorJump();doTextHighlight();matchWrapHeight();initResizeFunctions();fitProxyTabsToOneRow();setupButtoncheck()}function matchWrapHeight(){var n="padding-top",r="padding-bottom",q="publicform",p="accesscheck";if(containsClassName(document.documentElement,"staticheight"))return;var a=document.getElementById("infoColumn")||document.getElementById("defaultColumn")||document.getElementById("main"),u=containsClassName(document.body,"inside"),C=containsClassName(document.body,"menuontop"),l=containsClassName(document.body,"tc")||containsClassName(document.body,p)||containsClassName(document.body,"oe")||containsClassName(document.body,"oesignup")||containsClassName(document.body,q)||containsClassName(document.body,"stdfile"),j=containsClassName(document.body,"HSQnr"),F=containsClassName(document.documentElement,"mobile"),t=u&&!C,J=document.body.className,D=document.getElementById("banner"),H=document.getElementById("wrap"),o=document.getElementById("menu"),s=document.getElementById("baselinks"),g=document.getElementById("blftwrapper"),G=document.getElementById("main"),i=H||G,m=document.documentElement.clientHeight,E=0,v,I,y,x,w,h,k,d,c=910,f=875,A=585,e=180,b=110,z=55,B=40;l&&$("body").addClass("prelogin");if(l||j){c=995;f=845;e=140;b=145;if(containsClassName(document.body,"oe")||containsClassName(document.body,q)){c=974;f=895;e=169;b=149}if(containsClassName(document.body,"tc")||containsClassName(document.body,p)){c=1094;f=920;e=-40;b=226}if(j){c=924;f=790;e=168;b=10}}if(!a||F||!D&&!u&&!j)return;if(a.style.minHeight)a.style.minHeight="0px";v=parseInt(WP.DOM.Read.getStyle(i,r),10);I=parseInt(WP.DOM.Read.getStyle(i,"margin-top"),10);WpadTop=parseInt(WP.DOM.Read.getStyle(i,n),10);y=parseInt(WP.DOM.Read.getStyle(a,n),10);x=parseInt(WP.DOM.Read.getStyle(a,r),10);w=parseInt(WP.DOM.Read.getStyle(a,"margin-bottom"),10);E=!s?0:parseInt(WP.DOM.Read.getStyle(s,n),10);if(t&&o){k=o.offsetHeight+B;h=Math.min(A,m)}else{k=i.offsetHeight;if(g)h=Math.min(c,m-(e+b));else if(o)h=m-(b+z)}d=k-a.offsetTop-v-y-x-w;if(d<h&&(containsClassName(document.body,"inside")||l||j))d=h;a.style.minHeight=d+"px";if(!t&&g)if(d>=c)g.className="Tall";else if(d>f)g.className="TransitionToTall";else g.className=""}function highlightNodeText(d,g){var b,e,a,c,f;if(d===null)return;b=d.childNodes;if(b===null||b.length===0)return;e=new RegExp("("+g+")","gi");for(c=0;c<b.length;c=c+1){a=b[c];if(a!==null)if(a.nodeType===3){if(e.test(a.nodeValue)){f=document.createElement("span");f.innerHTML=a.nodeValue.replace(e,'<span class="hilite">$1</span>');d.insertBefore(f,a);d.removeChild(a)}}else a.nodeType===1&&highlightNodeText(a,g)}}function doTextHighlight(){var n="hilitefxid",a=null,j,h,e,k,i,d,m,f,b,c,g,l;j=document.getElementById("hilitefxform");if(j===a)return;i=document.getElementById(n);if(i===a)return;d=i.value;if(typeof d==="undefined"||d===a||d.length===0)return;m=document.getElementById(d);if(m===a)return;h=j.getElementsByTagName("input");if(h===a)return;b=new Array(3);b[0]=document.getElementsByTagName("TD");b[1]=document.getElementsByTagName("DIV");b[2]=document.getElementsByTagName("SPAN");for(c=0;c<b.length;c=c+1)for(g=0;g<b[c].length;g=g+1){l=b[c][g];if(containsClassName(l,"srchbl"))for(f=0;f<h.length;f=f+1){e=h[f];if(e===a)return;if(e.getAttribute("id")===a||e.getAttribute("id").indexOf(n)===-1){k=e.value;k.length>0&&highlightNodeText(l,k)}}}}function setupExpandableObject(f,h,g){var a="hover",e,c,b,d;if(typeof f!=="object")return;if(!g&&f.className.indexOf("expandable")<0)return;if(h)e=function(){expandElement(this);return false};else e=function(){expandElementExcl(this);return false};c=f.children;for(b=0;b<c.length;b++)if(c[b].className.indexOf("clickable")>-1){collapseElement(c[b],e);c[b].onmouseover=function(){applyClass(this,a)};c[b].onmouseout=function(){removeClassNames(this,a)};d=WP.DOM.Search.getNext(c[b]);if(d.nodeName.toUpperCase()==="A"){d.onfocus=function(){applyClass(this.parentNode,a)};d.onblur=function(){removeClassNames(this.parentNode,a)}}}}function setupExpandableCollection(a,b){if(typeof a!=="string")return;collection=document.getElementsByTagName(a);for(index=0;index<collection.length;index++)setupExpandableObject(collection[index],b)}function expandElement(a){setSlaveElmntDisp(a,true);a.onclick=function(){collapseElement(this,function(){expandElement(this);return false});return false}}function collapseElement(a,b){setSlaveElmntDisp(a,false);a.onclick=b}function expandElementExcl(c){var b,a,d;d=function(){expandElementExcl(this);return false};b=c.parentNode.children;for(a=0;a<b.length;a++)b[a].className.indexOf("clickable")>-1&&collapseElement(b[a],d);setSlaveElmntDisp(c,true);c.onclick=function(){collapseElement(this,function(){expandElementExcl(this);return false});return false}}function setSlaveElmntDisp(h,i){var b,e,g,f,c,d,a;a=h.getAttribute("id");if(a!==null)a=a.substring(5,a.length);b=document.getElementById(a);if(b!==null){e=h.getElementsByTagName("img");g=b.children;if(i){f="en-US/images/rowopen.gif";c=""}else{f="en-US/images/rowclosed.gif";c="none"}b.style.display=c;for(d=0;d<g.length;d++)g[d].style.display=c;e.length>0&&e[0].className.indexOf("icon")>-1&&e[0].setAttribute("src",f)}}function setupTabbedSections(){var e,a,b,h,c,g,d,f;e=document.getElementById("innertabs");if(e!==null){f=function(){showTabbedSection(this);return false};a=e.getElementsByTagName("a");if(a.length>0){for(b=0;b<a.length;b=b+1)a[b].onclick=f;h=document.location.toString();c=h.match("tabbedsec=tab_[A-Za-z0-9_]*");if(c!==null&&c.length>0){g=c[0].split("=")[1];d=document.getElementById(g);if(d!==null)showTabbedSection(d);else showTabbedSection(a[0])}else showTabbedSection(a[0])}}}function showTabbedSection(e){var d,a,b,c;d=e.parentNode.parentNode.getElementsByTagName("a");for(c=0;c<d.length;c=c+1){d[c].className="";a=d[c].getAttribute("id");a=a.substring(4,a.length);b=document.getElementById(a);if(b!==null)b.style.display="none"}e.className="selected";a=e.getAttribute("id");a=a.substring(4,a.length);b=document.getElementById(a);if(b!==null)b.style.display="block"}function setScannedImageSize(){var a,c,b,d;d=700;a=document.getElementById("scan");if(a){c=a.width;if(c>d){b=a.height*d/c;b=b-b%1;c=d;a.style.height=b+"px";a.style.width=c+"px"}}}function adjustLightbox(){var c=document.getElementById("lightbox"),g=document.getElementById("wrap"),a,e,f,d,b;if(!c||!g)return;a=c.clientHeight;for(d=0;d<c.children.length;d++){e=c.children[d];if(a<e.clientHeight)a=e.clientHeight}if(window.innerHeight){if(a>window.innerHeight)return;b=window.pageYOffset+.5*(window.innerHeight-a)}else{if(a>document.documentElement.clientHeight)return;b=document.documentElement.scrollTop+.5*(document.documentElement.clientHeight-a)}f=parseInt(WP.DOM.Read.getStyle(g,"margin-top"),10);b=b-f;if(b<0)b=0;c.style.marginTop=b+"px"}function hideLightbox(){var b=document.getElementById("lightbox"),a=document.getElementById("lightbox_overlay");if(!b||!a)return;b.style.display="none";a.style.display="none";if(typeof initLightbox.onCloseCallback==="function"){try{initLightbox.onCloseCallback()}catch(d){}try{delete initLightbox.onCloseCallback}catch(c){}}}function getProxyDisclaimer(a){$$WP.Utilities.SafeToRedirect(function initLBProxyTabs(b){if(!b)return;initLightbox(a+"&co=true",function focusOnContinue(){document.getElementById("continue").focus()},$$WP.Utilities.DidNotRedirect)});return false}function initLightbox(c,e,h){if($$WP.Utilities.isAbsoluteURL(c)===true){alert("Non-enduser message: Someone tried to execute a lightbox control from outside of MyChart.  Potential phishing attempt.  This code was not executed.");return}initLightbox.onCloseCallback=h||function(){};var d=new AJAXHandler,b=document.getElementById("lightbox"),f=document.getElementById("lightbox_overlay"),g,a;if(!d||!b||!f){window.location.href=c;return}g=function(h){b.innerHTML=h;f.style.display="block";b.style.display="block";adjustLightbox();if(WP.Events){WP.Events.addListener(window,"resize",function(){a!==null&&clearTimeout(a);a=setTimeout(adjustLightbox,100)});WP.Events.addListener(window,"scroll",function(){a!==null&&clearTimeout(a);a=setTimeout(adjustLightbox,100)})}b.setAttribute("tabindex",0);b.focus();for(var d=b.getElementsByTagName("script"),c=0;c<d.length;c++)if($$WP.Utilities.isAbsoluteURL(d[c].getAttribute("src"))===false){var g=document.createElement("script");g.type="text/javascript";if(d[c].src)g.src=d[c].src;document.body.appendChild(g)}else alert("Non-enduser message: Someone tried to include a script from outside of MyChart in the return value of a lightbox.  Potential phishing attempt.  This code was not executed.");typeof e==="function"&&e()};try{d.init(c,g,"GET","lb=true",d.RESPONSETYPE_CONTENTONLY)}catch(i){window.location.href=c}}function showLightBox(b){var a;divLB=document.getElementById("lightbox");divLBoverlay=document.getElementById("lightbox_overlay");divLB.innerHTML=b;divLBoverlay.style.display="block";divLB.style.display="block";adjustLightbox();if(WP.Events){WP.Events.addListener(window,"resize",function(){a!==null&&clearTimeout(a);a=setTimeout(adjustLightbox,100)});WP.Events.addListener(window,"scroll",function(){a!==null&&clearTimeout(a);a=setTimeout(adjustLightbox,100)})}divLB.setAttribute("tabindex",0);divLB.focus()}function moretabsFocus(){var a=document.getElementById("moretabs");if(a)a.className=a.className.replace(/\s*mtHide/," mtShow")}function moretabsBlur(){var a=document.getElementById("moretabs");if(a)a.className=a.className.replace(/\s*mtShow/," mtHide")}function localesLinkFocus(){var a=document.getElementById("morelocales");a&&replaceClassNames(a,"localeHide","localeShow")}function localesLinkBlur(){var a=document.getElementById("morelocales");a&&replaceClassNames(a,"localeShow","localeHide")}if(typeof WP==="undefined")WP={};if(typeof WP.Menu==="undefined"){WP.Menu=function(){var a=document.getElementById("menu");if(!a)return;WP.Menu.setSelectedMenu(a);WP.Menu.finishTopMenus(a)};WP.Menu.getURL=function(){var x="proxyaccess",l="id=",w="submode=",v="admissions",u="itinerary",t="apptcancelpage",s="src=apptdetail",n="messages&mbox=1",m="questionnairelist",k="msgoptions",r="recentappts",j="coverage",h="appointments",g="accountsummary",q="apptmake",i="labs",f="&",p,c,b,y,o,a,d,e;b=document.location;a=b.toString();o=a.indexOf("mode=");if(o===-1)return a.indexOf("inside.asp")>-1?"main":a.substr(window.location.protocol.length+2+window.location.host.length+makeLink("").length);a=a.substring(o+5);if(a.indexOf(f)>0)a=a.substring(0,a.indexOf(f));switch(a){case"showform":document.body.className="inside "+document.body.className;a=window.location.toString();a=a.substring(a.indexOf("mode=")+5);p=a.substring(a.length-20);if(p=="formname=ApptReqDept"||p=="formname=ApptReqProv")a="showform&formname=ApptReqCntr";break;case"saveform":document.body.className="inside "+document.body.className;break;case"labdetail":a=i;break;case"labchartgraph":a=i;break;case"displayscans":a=i;break;case"fshreport":a="fshreportlist";break;case"cccsum":a="cclist";break;case"crmsum":a="cclist";break;case"msgapptmake":a="apptsched";break;case"tktapptmake":a=q;break;case"accountdetail":a=g;break;case"recentpay":a=g;break;case"hbaccountdetail":a=g;break;case"hospaccntdetail":a=g;break;case"hospstmntdetail":a=g;break;case"payment":a=g;break;case"sboaccountdetail":a=g;break;case"paperless":a=g;break;case"benefitdetail":a="insurance";break;case"hmsched":a="healthmaint";break;case"deptdrive":a=h;break;case"editwalletcard":a="walletcard";break;case"eligibility":a=j;break;case"claims":a=j;break;case"referrals":a=j;break;case"benefitinfo":a=j;break;case"visitsummary":a=r;break;case"copaypayment":a=h;break;case"medadvice":a=k;break;case"evisit":a=k;break;case"questionnaire":if(document.location.toString().indexOf("src=list")>0)a=m;else if(b.toString().indexOf("mid")>0)a=n;else if(b.toString().indexOf("evQtn")>0)a=k;else if(b.toString().indexOf("svyQtn")>0)a=m;else if(b.toString().indexOf("Qtn")>0)a=h;else if(b.toString().indexOf("quesid")>0)a=m;break;case"apptcancel":if(b.toString().indexOf(s)>0)a=h;else a=t;break;case"apptdircancel":if(b.toString().indexOf(s)>0)a=h;else a=t;break;case"provsrch":if(b.toString().indexOf("mnu=ds")>0)a=q;else if(b.toString().indexOf("mnu=chg")>0)a="chgpcp";break;case u:if(b.toString().indexOf("dat")>0)a=v;break;case"histques":if(b.toString().indexOf("mid")>0)a=n;else if(b.toString().indexOf("Qtn")>0)a=h;break;case"messages":if(b.toString().indexOf("mbox=2")>0)a="messages&mbox=2";else a=n;break;case"apptdetails":if(b.toString().indexOf("recentvisit=yes")>0)a=r;else if(b.toString().indexOf("fromIP=1")>0)a=u;else if(b.toString().indexOf("fromHos=1")>0)a=v;else a=h;break;case"stdfile":if(b.toString().indexOf("option")>0)a="stdfile&option="+b.toString().match("option=[A-Za-z0-9_]*")[0].substr(7);break;case"crr":if(b.toString().indexOf("fromEv")>0)a=k;else if(b.toString().indexOf("proccode")>0)a=i;else if(b.toString().indexOf("ndc")>0)a="medslist";else if(b.toString().indexOf("icd")>0)a="hlthissues";break;case"showrep":if(b.toString().indexOf(w)>0){c=b.toString();c=c.substring(c.indexOf(w)+8);a="showrep&submode="+c}break;case"pefltdtl":if(b.toString().indexOf("fltid=")>0){c=b.toString();c=c.substring(c.indexOf("fltid=")+6);if(c.toString().indexOf(f)>0)c=c.substring(0,c.toString().indexOf(f));a="pefltdtl&fltid="+c}else a="pefltlst";break;case"mycondition":if(b.toString().indexOf(l)>0){d=b.toString();d=d.substring(d.indexOf(l)+3);if(d.toString().indexOf(f)>0)d=d.substring(0,d.toString().indexOf(f));a="mycondition&id="+d}break;case x:if(b.toString().indexOf(l)>0){e=b.toString();e=e.substring(e.indexOf(l)+3);if(e.toString().indexOf(f)>0)e=e.substring(0,e.toString().indexOf(f));a="proxyaccess&action=switchcontext&src=0&id="+e;y=x}break;case"echeckin":a=h}WP.Menu.prxMode=y;return a};WP.Menu.setSelectedMenu=function(f){var h="selected",c,n="",m,i,l,j,d,o,b,a,p,e,g,k=false;f=f||document.getElementById("menu");if(!f)return;c=f.getElementsByTagName("a");if(!c||c.length===0)return;i=WP.Menu.getURL();n=WP.Menu.prxMode;l=containsClassName(f,"collapsible");p=function(b){var a=b.parentElement;while(a&&!containsClassName(a,"menugroup"))a=a.parentElement;return a};for(e=c.length-1;e!==-1;--e){a=p(c[e]);if(!a)continue;if(containsClassName(a,"richdisplay"))continue;b=getChild(a,0);if(c[e].parentElement!==b)continue;l&&WP.Menu.closeMenu({target:c[e]});if(k===true)continue;m=getChild(a,1);if(a.parentElement.id!=="menu")a=a.parentElement.parentElement;if(!m){if(b.children[0]&&i==="main"&&b.children[0].href&&b.children[0].href.indexOf("mode=")===-1){applyClass(getChild(b,0),h);applyClass(a,h);k=true}continue}j=m.getElementsByTagName("a");for(g=j.length-1;g!==-1;--g){d=j[g].getAttribute("href");if(d&&d!=="#"){o=d.substring(d.indexOf("mode=")+5);if(i===o||n===o||i===d||n===d){l&&WP.Menu.openMenu({target:c[e]});applyClass(j[g],h);applyClass(a,h);k=true;containsClassName(b,"mnutitle")&&applyClass(getChild(b,0),h);g=0}}}}if(containsClassName(document.body,"menuontop")){document.getElementById("wrap").focus();f.style.visibility="visible"}};WP.Menu.searchFocus=function WP$Menu$searchFocus(a){WP.Menu.dropOn(a);WP.Menu.preventClose++};WP.Menu.searchBlur=function WP$Menu$searchBlur(a){WP.Menu.preventClose--;WP.Menu.preventClose===0&&WP.Menu.dropOff(a)};WP.Menu.finishTopMenus=function(d){var j="keydown",i="blur",f="keyword",e,b,l,a,c,k,m,g,h;d=d||document.getElementById("menu");if(!containsClassName(document.body,"menuontop")){e=document.getElementById(f);if(!e)return;e.value="";WP.Events.removeListener(e,"focus",WP.Menu.searchFocus);WP.Events.removeListener(e,i,WP.Menu.searchBlur);WP.Events.removeListener(e,i,WP.Menu.showHintText);return}l=document.getElementById("KeywordSearch");if(l){c=l.getElementsByTagName("input");WP.Menu.preventClose=0;for(b=0;b<c.length;b++){WP.Events.addListener(c[b],"focus",WP.Menu.searchFocus);WP.Events.addListener(c[b],i,WP.Menu.searchBlur);if(c[b].type==="text"){WP.Events.addListener(c[b],i,WP.Menu.showHintText);WP.Menu.showHintText({target:c[b]})}}}a=getChild(d,1);while(!a.offsetHeight)a=a.nextSibling;WP.Menu.isTooTall(d,a)&&WP.Menu.buildMegaMenu(d,a);for(b=0;b<d.children.length;b++){a=d.children[b];g=getChild(a,0);k=getChild(a,1);if(!k)continue;g=g.getElementsByTagName("a")[0];WP.Events.addListener(a,"mouseover",WP.Menu.dropOn);WP.Events.addListener(a,"mouseout",WP.Menu.dropOff);WP.Events.addListener(g,"click",function(b){var a=WP.Events.getThis(b||window.event);while(a&&!(a.parentElement.id==="menu"))a=a.parentElement;WP.Menu.dropOn(b);a.id==="keywordsearchwrapper"&&document.getElementById(f)&&document.getElementById(f).focus()});WP.Events.addListener(g,j,function(b){var a=b||window.event,c=a.keyCode||a.which;c===9&&a.shiftKey===true&&WP.Menu.dropOff(b)});WP.Events.addListener(a,j,function(b){var a=b||window.event,c=a.keyCode||a.which;if(c===27){getChild(getChild(WP.Menu.droppedMenu,0),0).focus();WP.Menu.dropOff(b)}});h=k.getElementsByTagName("a");h=h[h.length-1];WP.Events.addListener(h,j,function(b){var a=b||window.event,c=a.keyCode||a.which;c===9&&a.shiftKey!==true&&WP.Menu.dropOff(b)})}};WP.Menu.isTooTall=function(a){return $(a).outerHeight()>$(a).find(".menugroup").outerHeight()*1.5};WP.Menu.buildMegaMenu=function(e,o){var b="selected",l="menugroup",k="More",h,c,d,j,a,m,f,i,n,g,p;h=WP.DOM.Create.tag;c=h("div","menugroup moremenu","automore");WP.Events.addClassOnEvent(c,c,"droppeddown","mouseover","mouseout");j=h("span","mnutitle");f=document.createElement("a");f.href="#";f.appendChild(createImage(null,null,"more_menu.png",k));f.appendChild(document.createTextNode(k));j.appendChild(f);c.appendChild(j);d=h("div","hiddenlist");c.appendChild(d);a=e.lastChild;while(a&&(a.id==="keywordsearchwrapper"||!containsClassName(a,l)))a=a.previousSibling;if(a===e.lastChild)e.appendChild(c);else e.insertBefore(c,a.nextSibling);i=false;n=function(a){var d,g,h,f,e;e=function(a,c){if(containsClassName(a,b)){applyClass(c,b);i=true}};d=a.children[1];if(!d)return null;if(containsClassName(a,b)){removeClassNames(a,b);applyClass(c,b)}return a};while(WP.Menu.isTooTall(e,o)){while(a&&(!containsClassName(a,l)||containsClassName(a,"moremenu")))a=a.previousSibling;if(!a)break;m=a.previousSibling;g=n(a);if(g){a.parentElement.removeChild(a);if(d.children.length>0)d.insertBefore(g,d.children[0]);else d.appendChild(g)}a=m}i===true&&applyClass(c.firstChild,b)};WP.Menu.openedMenu=null;WP.Menu.closeMenu=function(e){var d="Expand Menu",b,c,a;a=WP.Events.getThis(e||window.event);if(!a)return;if(a.nodeName==="IMG")a=a.parentElement;c=getChild(a.parentElement.parentElement,1);if(!c)return;removeClassNames(c,"opened");b=a.getElementsByTagName("img")[0];if(containsClassName(b,"arrow")){b.setAttribute("src","en-US/images/menuclosed.gif");b.setAttribute("alt",d);b.setAttribute("title",d)}WP.Events.removeListener(a,"click",WP.Menu.closeMenu);WP.Events.addListener(a,"click",WP.Menu.openMenu);matchWrapHeight();if(WP.Menu.openedMenu===a)WP.Menu.openedMenu=null};WP.Menu.openMenu=function(f){var d="Close Menu",b,e,c,a;a=WP.Events.getThis(f||window.event);if(!a)return;if(a.nodeName==="IMG")a=a.parentElement;c=getChild(a.parentElement.parentElement,1);if(!c)return;WP.Menu.closeMenu({target:WP.Menu.openedMenu});applyClass(c,"opened");b=a.getElementsByTagName("img")[0];if(containsClassName(b,"arrow")){b.setAttribute("src","en-US/images/menu.gif");b.setAttribute("alt",d);b.setAttribute("title",d)}e=c.parentNode.getElementsByTagName("span")[0];WP.Events.addListener(a,"click",WP.Menu.closeMenu);WP.Events.removeListener(a,"click",WP.Menu.openMenu);matchWrapHeight();WP.Menu.openedMenu=a};WP.Menu.droppedMenu=null;WP.Menu.turnOffMenu=false;WP.Menu.dropOff=function(){if(WP.Menu.preventClose>0)return;removeClassNames(WP.Menu.droppedMenu,"droppeddown");WP.Menu.droppedMenu=null};WP.Menu.dropOn=function(c){var b="droppeddown";if(WP.Menu.preventClose>0)return;var a=WP.Events.getThis(c||window.event);while(a&&!(a.parentElement.id==="menu"))a=a.parentElement;if(WP.Menu.droppedMenu){if(WP.Menu.droppedMenu===a)return;removeClassNames(WP.Menu.droppedMenu,b)}applyClass(a,b);WP.Menu.droppedMenu=a;return WP.Events.cancelEvent(c)};WP.Menu.hideHintText=function(b){var a=WP.Events.getThis(b||window.event);a.value="";removeClassNames(a,"fadedtext")};WP.Menu.showHintText=function(c){var b=WP.Events.getThis(c||window.event),a;if(b.value!=="")return;a=b.previousSibling;while(a.nodeName!=="SPAN")a=a.previousSibling;b.value=a.innerText||a.textContent;applyClass(b,"fadedtext");WP.Events.addListener(b,"focus",WP.Menu.hideHintText,true)}}var proxyPopup,gotTheMessage=false;function photoIframe(f){var d="none",j="ProxySilhouette.png",a=document.getElementById("iframeproxypicker_"+f),b,i,g,h,c,e,k;h=a.parentElement.parentElement.parentElement.parentElement;k=document.createElement("div");a.parentNode.parentNode.insertBefore(k,a.parentNode);b=new WP.Controls.ProgressSpinner(k," ","inline",16);c=document.getElementById("photoImg_"+f);b.hide();a.writeError=function(e){var d;if(!g){if(e.length<2)return;i=WP.DOM.Create.tag("tr","tableRowMessage");g=WP.DOM.Create.tag("td","tableProxyMessage alert");g.colSpan=4;i.appendChild(g);d=a.parentNode.parentNode.parentNode;getChild(d,0).rowSpan++;if(d.nextSibling)h.insertBefore(i,a.parentNode.parentNode.parentNode.nextSibling);else h.appendChild(i)}g.innerHTML=e;if(b.oldDisp)c.style.display=b.oldDisp;b.hide();c.style.display=b.oldDisp||""};e=document.getElementById("photodelete_"+f);e.style.display=c.src.indexOf(j)>0?d:"";WP.Events.addListener(e,"click",function(){var g;if(b.isHidden===false){a.src=a.src;b.hide();c.style.display=b.oldDisp;e.style.display=c.src.indexOf(j)>0?d:"";a.fixTabbing(a);return}c.src="./en-US/images/ProxySilhouette.png";g=document.getElementById("photo_"+f);g.value="";WP.Events.fireEvent(g,"change");e.style.display=d;a.fixTabbing&&a.fixTabbing(a)});a.beforeupload=function(){b.show();b.oldDisp=c.style.display;c.style.display=d;return true};a.viewer={addImage:function(){},transferToForm:function(){}};a.onupload=function(i,j,k,h){var d="showfile.asp?key=",g;c.style.display=b.oldDisp;b.hide();if(i!==1){a.writeError("Only images may be used as your patient photo.");return}g=document.getElementById("photo_"+f);g.value=d+h;WP.Events.fireEvent(g,"change");c.src=d+h;e.style.display="";a.nextElement=e;if(gotTheMessage===false){gotTheMessage=true;WP.Events.addListener(c,"load",function(){window.setTimeout(function(){alert("When you click Save on the Personalize page, this photo will be saved to the medical record and visible to medical staff.")},50)},true)}};if(!proxyPopup){proxyPopup=document.getElementById("popupphotopopup");proxyPopup.parentElement.removeChild(proxyPopup);document.getElementById(h.parentElement.id+"_col0").appendChild(proxyPopup)}}function updateSilhouetteColor(b,e){var a,d=document.getElementById("photoImg_"+e),c=b.nextSibling;a=c.className.match(/color\d/,"");if(a&&a[0])a=a[0];removeClassNames(c,a);applyClass(c,escape(b.value));if(d){applyClass(d,escape(b.value));removeClassNames(d,a)}}function fitProxyTabsToOneRow(){var o="moretabs",f=null,n="moreTabsTab",b=document.getElementById("proxyTabs"),d=document.getElementById(n),p=document.getElementById("configIconTab"),m=WP.DOM.Create.tag,l,k,h,i,j,a,e,c,g;if(containsClassName(document.body,"menuontop")||!b)return;l=parseInt(WP.DOM.Read.getStyle(b,"padding-top"),10);k=parseInt(WP.DOM.Read.getStyle(b,"padding-bottom"),10);h=b.offsetHeight-l-k;i=b.children[0];j=i.offsetHeight+parseInt(WP.DOM.Read.getStyle(i,"margin-top"),10);if(h<=j)return;if(!d){d=m("li","color2",n);if(!p)b.appendChild(d);else b.insertBefore(d,p);a=document.createElement("a");a.href="#";WP.Events.addListener(a,"focus",moretabsFocus);WP.Events.addListener(a,"blur",moretabsBlur);WP.Events.addListener(a,"mouseout",moretabsBlur);a.appendChild(createImage("photo disabled",f,"ProxySilhouette-More.png","More"));a.appendChild(m("span",f,f,f,"..."));e=m("p","mtHide",o);d.appendChild(a);d.appendChild(e)}else e=document.getElementById(o);c=d.previousSibling;while(h>j){while(c&&c.nodeType===3)c=c.previousSibling;if(!c)break;g=c;c=c.previousSibling;a=g.children[0];if(e.children.length===0)e.appendChild(a);else e.insertBefore(a,e.firstChild);a.className=g.className;WP.Events.addListener(a,"focus",moretabsFocus);WP.Events.addListener(a,"blur",moretabsBlur);b.removeChild(g);h=b.offsetHeight-l-k}}function initResizeFunctions(){var a=null;if(containsClassName(document.documentElement,"staticheight"))return;var f=document.getElementById("main"),e=document.getElementById("defaultColumn"),h=f||e,g=containsClassName(document.body,"tc")||containsClassName(document.body,"accesscheck")||containsClassName(document.body,"oe")||containsClassName(document.body,"oesignup")||containsClassName(document.body,"publicform")||containsClassName(document.body,"stdfile"),i=containsClassName(document.body,"HSQnr"),j=containsClassName(document.body,"mobile"),c,b,d;if(!f&&!e)return;if(WP.Events&&(containsClassName(document.body,"menuontop")||j||g||i)){WP.Events.addListener(window,"resize",function(){if(d===document.documentElement.clientHeight)return;d=document.documentElement.clientHeight;c!==a&&clearTimeout(c);c=setTimeout(matchWrapHeight,25);if(preventBadAnchorJump.hasContentiousCSS){b!==a&&clearTimeout(b);b=setTimeout(preventBadAnchorJump,25)}});WP.Events.addListener(window,"orientationchange",function(){c!==a&&clearTimeout(c);c=setTimeout(matchWrapHeight,25);if(preventBadAnchorJump.hasContentiousCSS){b!==a&&clearTimeout(b);b=setTimeout(preventBadAnchorJump,25)}});preventBadAnchorJump.hasContentiousCSS&&WP.Events.addListener(h,"scroll",preventBadAnchorJump,25)}}function toggleLayout(){var a="menuontop";if(containsClassName(document.body,a))removeClassNames(document.body,a);else applyClass(document.body,a);document.getElementById("menu")&&WP.Menu()}function setupActionBar(){var d="keydown",c="openaction",a="actionitem",e=document.getElementById(a),b,f,g;dropOn=function(d){var e=d||window.event,b=WP.Events.getThis(e);while(b&&!(b.id===a))b=b.parentElement;applyClass(b,c);return WP.Events.cancelEvent(d)};dropOff=function(f){var e=f||window.event,b=WP.Events.getThis(e),g=e.type===d;while(b&&!(b.id===a))b=b.parentElement;removeClassNames(b,c);return WP.Events.cancelEvent(f)};if(e){b=e.getElementsByTagName("A");if(b){f=b[0];g=b[b.length-1];WP.Events.addListener(e,"mouseover",dropOn);WP.Events.addListener(e,"mouseout",dropOff);if(f){WP.Events.addListener(f,"click",dropOn);WP.Events.addListener(f,d,function(b){var a=b||window.event,c=a.keyCode||a.which;c===9&&a.shiftKey===true&&dropOff(b)})}g&&WP.Events.addListener(g,d,function(b){var a=b||window.event,c=a.keyCode||a.which;c===9&&a.shiftKey!==true&&dropOff(b)})}}}var showFlyout=function showFlyout(c){var b,a;b=$("#flyout");removeClassNames(b[0],"collapsed");if(c.data.trigger==="keyboard"){a=b.find("a.flyoutitem").not(".chosen");a.length>0&&a[0].focus()}},hideFlyout=function hideFlyout(){var a=document.getElementById("flyout");applyClass(a,"collapsed")};function setupMyCondNav(){var a;if(!$("#flyout"))return;$("body").on({focus:hideFlyout,click:showFlyout},"#flyoutprompt",{trigger:"keyboard"}).on({mouseleave:hideFlyout,mouseenter:showFlyout},"#flyout, #flyoutprompt",{trigger:"mouse"}).on({focus:hideFlyout},"#innertabs .tab a");a=$(".innertabs .tab");a&&applyClass(a[a.length-1],"lasttab")}function preventBadAnchorJump(){var g=document.getElementById("main"),f=document.getElementById("defaultColumn"),e=document.getElementById("datatile"),b=g||f||e,d=WP.DOM.Browser.isIE||b.scrollTop>0,c=1020,a;if(!d||!window.location.hash||!b||containsClassName(document.documentElement,"staticheight"))return;a=$("#blftwrapper").position().top-$(b).position().top;if(a>c)a=c;preventBadAnchorJump.targetRule.style.top=a+"px"}function resizeLargeImgAndTable(){var e="<div class='large_img'></div>",d="large_img",c="className",a="width",g,f,b,h;$(".report table").each(function(){g=$(this).find("img");if(g.length>0){$(this).attr("style","Table-layout:fixed");g.each(function(){var g=this;b=$(g).parent().width();f=$(g).attr(a);if(f>b)$(g).parent().prop(c)!=d&&$(g).wrap(e)})}});$(".section#summary table,.section#discharge table,.section#patedu table,.section#instructions table,.report table,body.md_letters .section table").each(function(){b=$(this).parent().width();h=$(this).attr(a);h>b&&$(this).wrap("<div class='table_wrapper'></div>")});$(".section#summary img,.section#discharge img,.section#patedu img,.section#instructions img,body.md_letters .section img").each(function(){var g=this;b=$(g).parent().width();f=$(g).attr(a);if(f>b)$(g).parent().prop(c)!=d&&$(g).wrap(e)});$(".section#discharge div.report").each(function(){fitReportToWidth($(this))})}function fitReportToWidth(c){var e="top left",d="scale(",i=c[0];c.wrap("<div></div>");var b=c.parent();c.addClass("shrinkReport");b.addClass("shrinkReportParent");var j=i.scrollWidth,g=b.width();if(j>g){var h=i.scrollHeight,f=b.innerHeight(),a=g/j;if(a<.7){a=.7;b.css({"overflow-y":"hidden"})}else b.css({overflow:"hidden"});c.css({display:"inline-table",transform:d+a+")","transform-origin":e,"-webkit-transform":d+a+")","-webkit-transform-origin":e,"-ms-transform":d+a+")","-ms-transform-origin":e});navigator.userAgent.indexOf("MSIE 8")>0&&c.css({filter:"progid:DXImageTransform.Microsoft.Matrix(M11="+a+", M12=0, M21=0, M22="+a+", SizingMethod='auto expand')"});f-=h-h*a;b.css({height:Math.ceil(f)+"px"})}}function setupButtoncheck(){var a="checked",b=$("p.buttoncheck");b.find("input.buttoncheck:checked").parent().addClass(a);b.find("input.buttoncheck[disabled]").parent().addClass("disabled");b.find("input.buttoncheck").change(a,function(){var b="unchecked",c=$(this).parent("p");c.toggleClass(a);if(c.hasClass(a))c.removeClass(b);else c.addClass(b)})}function setEqualHeights(){var b=".highlight.scheduleoptions",a=0;$(b).each(function(){if(a<this.offsetHeight)a=this.offsetHeight});$(b).css("height",a+"px");matchWrapHeight()}function setWidthsForAlternateOptions(){var a=".alternateoptions .highlight.scheduleoptions",b=$(a);b.length>2&&$(a).addClass("onethird")}