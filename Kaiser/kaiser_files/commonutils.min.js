/* Copyright Â© 2016 Epic Systems Corporation. */

/*! Copyright (c) Epic Systems Corporation 1999-2015 */
var activity=0,submitcount=0,newwindow,isTabAllowed=true,ALPHANUMERIC="1",EQUAL_TO_CODE="2",GREATER_THAN_CODE="3",LESS_THAN_CODE="4",REMOVE_IF_EQUAL_TO_REMOVE_CHAR="1",REMOVE_NONNUMERIC="2";function padNumber(a,c){var b=".";if(a>0){a=a.toString().replace(/\./,b);return Array(c-a.length+1).join("0")+a}a=(-a).toString().replace(/\./,b);return"-"+Array(c-a.length).join("0")+a}function padNumber2(b,a){return b==0?Array(a+1).join("0"):padNumber(b,a)}function IsNumericMinMax(c,j,i,k,g){var h="Please enter a numeric value.",d=true,f=false;if(c==null)return f;if(g===null||g==="")g=f;var b,e,a;a=c.value;if(a=="")return d;if(a.indexOf(",")!=-1&&a.indexOf(".")<0){alert(h);c.select();c.focus();return f}a=a.replace(/[\,\s]/g,"");b=a.replace(/\./g,".");b=Number(b);if(isNaN(b)){alert(h);e=d}else if(!k&&b!=Math.round(b)){alert(h);e=d}else if(j!=""&&b<Number(j)){alert("Please enter a value no less than @MYCHART@MINVALUE@.".replace("@MYCHART@MINVALUE@",j));e=d}else if(i!=""&&b>Number(i)){alert("Please enter a value no more than @MYCHART@MAXVALUE@.".replace("@MYCHART@MAXVALUE@",i));e=d}if(e&&!g){c.select();c.focus();return f}c.value=a;return d}function IsNumericOrRangeMinMax(f,l,k,o,j){var s="@MYCHART@MAXVALUE@",r="Please enter a value no more than @MYCHART@MAXVALUE@.",q="@MYCHART@MINVALUE@",p="Please enter a value no less than @MYCHART@MINVALUE@.",g="-",i="@MYCHART@RANGESEPARATOR@",h="Enter a non-negative number or a range. A range is two non-negative numbers separated by \"@MYCHART@RANGESEPARATOR@\", and the first number should be smaller than the second number.",b=true,m=false;if(f===null)return m;if(j===null||j==="")j=m;var a,c,e,d,n;d=f.value;if(d==="")return b;if(d.indexOf(",")!==-1&&d.indexOf(".")<0){alert(h.replace(i,g));if(!j){f.select();f.focus()}return m}d=d.replace(/[\,\s]/g,"");n=d.indexOf(g);if(n!==-1){a=d.substring(0,n).replace(/\./g,".");if(a===""){alert(h.replace(i,g));if(!j){f.select();f.focus()}return m}c=d.substring(n+1).replace(/\./g,".")}else a=d.replace(/\./g,".");a=Number(a);if(isNaN(a)){alert(h.replace(i,g));e=b}else if(!o&&a!==Math.round(a)){alert(h.replace(i,g));e=b}else if(l!==""&&a<Number(l)){alert(p.replace(q,l));e=b}else if(k!==""&&a>Number(k)){alert(r.replace(s,k));e=b}if(c&&!e){c=Number(c);if(isNaN(c)){alert(h.replace(i,g));e=b}else if(!o&&c!==Math.round(c)){alert(h.replace(i,g));e=b}else if(l!==""&&c<Number(l)){alert(p.replace(q,l));e=b}else if(k!==""&&c>Number(k)){alert(r.replace(s,k));e=b}else if(a>c||a===c){alert(h.replace(i,g));e=b}}if(e){if(!j){f.select();f.focus()}return m}f.value=d;return b}function findFrame(b){for(var a=0;a<parent.frames.length;a++)if(parent.frames[a].name==b)return true;return false}function checkActivity(d,e,a,f){checkActivity.refreshTimeOut=d||checkActivity.refreshTimeOut;checkActivity.sessionTimeout=e||checkActivity.sessionTimeout;autoLogout.logoutPage=f||autoLogout.logoutPage;checkActivity.warningPopup=a!==false&&checkActivity.warningPopup!==false||a===true;if(activity===1){window.clearTimeout(checkActivity.tRefreshID);checkActivity.tRefreshID=window.setTimeout(checkActivity,checkActivity.refreshTimeOut);window.clearTimeout(checkActivity.tSessionID);checkActivity.tSessionID=window.setTimeout(autoLogout,checkActivity.sessionTimeout);activity=0}else if(activity===0&&checkActivity.warningPopup){var b,c;b=(checkActivity.sessionTimeout-checkActivity.refreshTimeOut)/1e3;c=new $$WP.Popups.TimeoutWarningPopup({SecondsLeft:b})}}function autoLogout(){if(activity===1){checkActivity();return}var b=new $$WP.Popups.LoggingOutPopup}function logOut(a){if(a!==""&&a!==null&&typeof a!=="undefined")self.location.href=a;else WP.Comm.logOut(function(a){window.location=makeLink(a)},false)}function SetActivity(){$$WP.Utilities.setActivity()}function SetBlurActivity(){$$WP.Utilities.setActivity()}function HandleKeyPress(b){var a;if(navigator.appName!=="Netscape")a=window.event.keyCode;else a=b.which;$$WP.Utilities.setActivity();return true}function CheckLength(d,a,c,b){var f,e;f=a;if(b!=""&&b!=null&&b=="1")a=a-1;e=d.value.replace(/\r\n/g,"");if(e.length>a){if(c=="")c="Text may not exceed @MYCHART@MAXMIMUMLENGTH@ characters. \n".replace("@MYCHART@MAXMIMUMLENGTH@",f);alert(c);d.focus();return false}return true}function HandleKeyPressAndMaxLen(e,d,b,c){var a;if(navigator.appName!="Netscape")a=window.event.keyCode;else a=e.which;$$WP.Utilities.setActivity();return a==8||a==0?true:CheckLength(d,b,c,1)}function HandleBlurAndMaxLen(d,c,a,b){return HandleKeyPressAndMaxLen(d,c,a,b)}function HandleOnChangeAndMaxLen(c,a,b){$$WP.Utilities.setActivity();return CheckLength(c,a,b)}function insideBodyLoad(a,b,c,e,d){WP&&WP.Comm&&WP.Comm.keepAlive&&window.setTimeout(WP.Comm.keepAlive,1);$$WP.Utilities.setActivity();WP.Events.addListener(document.body,"click",$$WP.Utilities.setActivity);WP.Events.addListener(document.body,"keypress",$$WP.Utilities.setActivity);checkActivity(a,b,c,d);try{top.document.title=e}catch(f){}window.focus();return true}function breakOut(){self!=top&&top.location.replace(self.location.href)}function getObjectValue(c){var b,d,a;if(c){b=0;b=c.length;a="";if(b>0)for(d=0;d<b;d++)a=a+c[d].value;else a=c.value;return a}}function doMainKeyPress(a){try{return routeEvent(a)}catch(b){}}if(navigator.appName=="Netscape"){window.captureEvents(Event.KEYPRESS);window.onkeypress=doMainKeyPress}function submitForm(a){if(a.form.submitcontrol.value=="submit form"){a.form.submitform.click();return false}}function addFocus(a){a.form.submitcontrol.value="nosubmit";return true}function taKeyDown(a){a.form.submitcontrol.value="nosubmit"}function recordKey(a){if(window.event.keyCode==13&&a.submitcontrol.value!="nosubmit")a.submitcontrol.value="submit form";else a.submitcontrol.value=""}function containsSpace(b){for(var a=0;a<b.length;++a)if(b.charAt(a)==" ")return true;return false}function containsPunctuation(e){for(var d="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789@._-",b=e.toUpperCase(),c,a=0;a<b.length;++a){c=b.charAt(a);if(d.indexOf(c)<0)return true}return false}function selectCheckBox(b){var a=true,c;if(b!=null&&(document.all||document.getElementById)){for(c=0;c<b.length;c++)if(b[c].checked==a)return a;if(b.checked==a)return a;alert("At least one checkbox must be checked");return false}return a}function disableButton(a){if(submitcount==0){submitcount++;return true}a.disabled=true;return false}function enableIfReqFilled(l,m){if(!document.getElementById)return;var f,a,h,e,i,g,n,c,d,j,b,k;f=document.getElementById(l);if(!f)return;b=m.split("^");if(!b||b.length==0)return;i=[];e=[];d=0;k=enableIfReqFilled.arguments;for(a=2;a<k.length;a++){h=k[a].split("^");g=h[0];n=h[1]||g;c=h[2]||g;j=f[g];if(j&&!i[c])if(removeWhiteSpace(j.value).length==0){if(!e[c]){e[c]=true;d++}}else{i[c]=true;if(e[c]){e[c]=false;d--}}}if(IsFormValid(l)===false)d++;if(d>0)for(a=0;a<b.length;a++)disableBtn(f[b[a]]);else for(a=0;a<b.length;a++)enableBtn(f[b[a]])}function IsFormValid(d,c){var b,a;try{if(WP&&WP.Validators&&WP.Validators.Forms){a=WP.Validators.Forms[d];if(a)for(b=0;b<a.length;b++)if(removeWhiteSpace(a[b]).length>0){c===true&&alert(a[b]);return false}}}catch(e){}return true}function removeWhiteSpace(b){var a=""+b;a=a.replace(/\W/g,"");return a}function confirmDelete(a){return confirm(a)==true?true:false}function confirmEmbedDelete(d){var a,b,c;c=confirm(d);if(c===true){a=document.getElementById("confirmStep");if(a){a=a.parentNode;if(a){b=document.createElement("input");b.type="hidden";b.className="hidden";b.name="clickSub";b.value="1";a.appendChild(b)}}return true}return false}function setCheckboxesByPrefix(c){var b,a;b=1;a=document.getElementById(c+b);while(a!==null){a.setAttribute("checked","true");a.checked=true;b=b+1;a=document.getElementById(c+b)}}function unsetCheckboxesByPrefix(c){var b,a;b=1;a=document.getElementById(c+b);while(a!==null){a.removeAttribute("checked");a.checked=false;b=b+1;a=document.getElementById(c+b)}}function statusOfCheckboxesByPrefix(e){var a,b,d,c;d=true;c=false;a=1;b=document.getElementById(e+a);while(b!==null){if(!b.checked)d=false;else c=true;a=a+1;b=document.getElementById(e+a)}return d?3:c?2:1}function checkAll(a,c){if(typeof document=="object"&&a!=null&&c!=null&&document.getElementById&&typeof document.getElementById(a)=="object"){var e=document.getElementById(a),b,d=0;while(b=e[d++])if(b.type=="checkbox")b.checked=true}}function selectRadioButton(c){var a=true,b;if(document.all||document.getElementById){for(b=0;b<c.length;b++)if(c[b].checked==a)return a;if(c.checked==a)return a;alert("Please make a selection before submitting.");return false}return a}function disableButton1(a){if(typeof a=="object")a.disabled=true;return true}var browser,version,total,thestring,place;function checkIt(b,a){place=b.indexOf(a)+1;thestring=a;return place}function addDataTileUtils(){try{var a=parent.document.getElementById(window.name);a.tryRedirect=$$WP.Utilities.TryRedirect;a.safeToRedirect=$$WP.Utilities.SafeToRedirect;a.hasUnsavedChanges=WP.Events.showBeforeUnloadMessage}catch(b){}}function scrollTopOfTheIframe(a){setTimeout(function(){for(var c=window.parent.document.getElementsByTagName("iframe"),a,b=0,e=c.length;b<e;b++){a=c[b];if(a.contentWindow==window){var d=a.getBoundingClientRect();parent.document.body.scrollTop+=d.top;break}}},a)}function dataTileLoad(){var b=true;addDataTileUtils();var a,c,d,e;a={};a.histques=b;a.downloadsummary=b;a.snapshot=b;a.hlthissues=b;a.medslist=b;a.allergies=b;a.healthmaint=b;a.histories=b;a.immunizations=b;modesToScrollup={};modesToScrollup.histques=b;modesToScrollup.questionnaire=b;if(WP.DOM.Browser.isIE)c=getIEHeight;else if(WP.DOM.Browser.isSafari||WP.DOM.Browser.isOmniweb)c=getWebkitHeight;else if(WP.DOM.Browser.isOpera)c=getOperaHeight;else c=getGenericHeight;try{setAppropriateHeight.getAppropriateHeight=c;d=$$WP.Utilities.queryString("mode");a[d]&&WP.Events.addListener(document.body,"click",setAppropriateHeight);modesToScrollup[d]&&document.getElementById("qnr-error-msg")&&scrollTopOfTheIframe(30);setAppropriateHeight()}catch(f){return}}function vdtAdmissionLoad(){var a,b,c;a=document.getElementById("vdtFrame");if(a.contentWindow.document.documentElement.scrollHeight)c=a.contentWindow.document.documentElement.scrollHeight+31+"px";else{if(WP.DOM.Browser.isIE)b=getIEHeight;else if(WP.DOM.Browser.isSafari||WP.DOM.Browser.isOmniweb)b=getWebkitHeight;else if(WP.DOM.Browser.isOpera)b=getOperaHeight;else b=getGenericHeight;c=b(a)}if(a.style.height!=c)a.style.height=c}function getIEHeight(){return document.body.scrollHeight+16+"px"}function getWebkitHeight(a){a.style.height="100px";return Math.max(document.body.scrollHeight,a.scrollHeight,a.contentWindow.document.documentElement.scrollHeight)+25+"px"}function getOperaHeight(){return Math.max(document.body.scrollHeight||200,document.body.offsetHeight||200)+16+"px"}function getGenericHeight(a){a.style.height="150px";return Math.max(document.body.scrollHeight||200,document.body.offsetHeight||200,document.documentElement.scrollHeight||0)+16+"px"}function setAppropriateHeight(){if(setAppropriateHeight.getAppropriateHeight==null)return;var a=parent.document.body.scrollTop;window.setTimeout(function(){var b,c;if(parent.document.getElementById)b=parent.document.getElementById(window.name);else if(parent.document.all)b=parent.document.all[window.name];else return;if(!b||!document||!document.body||!b.style||false)return;c=setAppropriateHeight.getAppropriateHeight(b);if(b.style.height!=c){b.style.height=c;parent.document.body.scrollTop=a}},20)}function resizeWebKit(c){if(document.getElementById){var a,b;a=parent.document.getElementById(c);a.style.height="100px";b=Math.max(document.body.scrollHeight,a.scrollHeight,a.contentWindow.document.documentElement.scrollHeight)+25;a.style.height=b+"px"}}function DoRedirect(a){var b=new $$WP.Popups.LoggingOutPopup({PositioningFunction:a});return false}function DoRedirectOE(){this.document.write("<br /><br /><br /><br /><center>You are being logged out</center>");window.location="./oebye.asp";return false}function captureBackEnterKey(){var b="textarea";$$WP.Utilities.setActivity();if(window.event&&(window.event.keyCode==8||window.event.keyCode==13)){var c=window.event.srcElement,a=c.type;if(!c.readOnly){if((a=="text"||a==b||a=="password")&&window.event.keyCode==8)return;if((a==b||a=="submit")&&window.event.keyCode==13)return}window.event.cancelBubble=true;window.event.returnValue=false;return false}}function showItem(b){var a;if(document.getElementById)a=document.getElementById(b);else if(document.all)a=document.all.item(b);if(a!=null){a.style.display="block";return true}return false}function hideItem(b){var a;if(document.getElementById)a=document.getElementById(b);else if(document.all)a=document.all.item(b);if(a!=null){a.style.display="none";return true}return false}function showElement(a,b){if(a===null){if(b!==null&&b.length>0)a=document.getElementById(b);if(a===null)return}removeClassNames(a,"hidden");return}function hideElement(a,b){if(a===null){if(b!==null&&b.length>0)a=document.getElementById(b);if(a===null)return}removeClassNames(a,"hidden");a.className=a.className+" hidden";return}function activateField(a,b){if(a===null){if(typeof b==="string"&&b.length>0)a=document.getElementById(b);if(a===null)return}removeClassNames(a,"inactivefield,activefield");a.className=a.className+" activefield";return}function activateFieldsByIds(c){var a,b;if(c!==null)b=c.split(",");if(b!==null)for(a=0;a<b.length;a=a+1)activateField(document.getElementById(b[a]))}function deactivateField(a,b){if(a===null){if(typeof b==="string"&&b.length>0)a=document.getElementById(b);if(a===null)return}removeClassNames(a,"inactivefield,activefield");a.className=a.className+" inactivefield";return}function deactivateFieldsByIds(c){var a,b;if(c!==null)b=c.split(",");if(b!==null)for(a=0;a<b.length;a=a+1)deactivateField(document.getElementById(b[a]))}function applyClass(a,d){var c,b;if(!a)return;c=d.split(",");for(b=0;b<c.length;b++)if(!containsClassName(a,c[b]))a.className+=(a.className.length>0?" ":"")+c[b];return a}function removeClassNames(c,e){var d,a,f,b;if(!c||!e||c.className.length<1||e.length<1)return;d=e.split(",");b=c.className;for(a=0;a<d.length;a=a+1){f=new RegExp("(^|\\s+)"+d[a]+"(\\s+|$)","g");b=b.replace(f," ")}c.className=b}function replaceClassNames(a,c,b){removeClassNames(a,c);applyClass(a,b)}function containsClassName(a,b){var c;if(!a||typeof b!=="string"||b.length<1)return false;if(typeof a.className!=="string"||a.className.length<1)return false;c=new RegExp("(^|\\s+)"+b+"(\\s+|$)","g");return!c?false:a.className.match(c)!=null}function applyUniqueClassNameAmongSiblings(d,c){for(var b=d.parentNode,a=0;a<b.children.length;a++)removeClassNames(b.children[a],c);applyClass(d,c)}function selectAllFirstTime(a){if(a===null)return false;if(!containsClassName(a,"clckd")){a.select();a.className=a.className+" clckd";a.onblur=function(){removeClassNames(this,"clckd");return false}}return false}function enableIfChecked(j){if(!document.getElementById)return;var c,b,d,a,g,i,f,e,h=[];d=document.getElementById(j);if(!d)return;g=enableIfChecked.arguments;for(a=1;a<g.length;a++){b=d[g[a]];b&&h.push(b)}i=d.getElementsByTagName("input");f=false;for(e=0;e<i.length;e++){c=i[e];if(c.type!="checkbox"&&c.type!="radio")continue;if(c.className.toLowerCase().indexOf("hidden")!=-1)continue;if(c.checked){f=true;break}}for(a=0;a<h.length;a++){b=h[a];if(f)enableBtn(b);else disableBtn(b)}}function enableBtn(a){if(a&&a.removeAttribute){a.removeAttribute("disabled");a.className=a.className.replace(/\ ?disabled/,"")}}function disableBtn(a){var b="disabled";if(a){if(typeof a==="function")return;a.disabled=b;if(a.className.indexOf(b)==-1){a.className=a.className.replace(/\ *$/,"");if(a.className.length>0)b=" "+b;a.className=a.className+b}}}function getElementPosition(f,e){if(!f.offsetParent)return;var a=f,c=0,d=0,b;while(a){b=a;if(a.tagName=="HTML")break;if(e&&a==e)break;c+=a.offsetLeft;d+=a.offsetTop;if(a.scrollLeft)c-=a.scrollLeft;if(a.id.toLowerCase()=="wrap"){c-=a.offsetLeft;d-=a.offsetTop;break}a=a.offsetParent}if(navigator.userAgent.indexOf("Mac")!=-1&&typeof document.body.leftMargin!="undefined"){c+=document.body.leftMargin;d+=document.body.topMargin}c+="px";d+="px";if(b.tagName=="HTML"){b=b.getElementsByTagName("body")[0];if(b.offsetLeft)c-=b.offsetLeft;if(b.offsetTop)d-=b.offsetTop}return{x:c,y:d,topElement:b}}function changePasswdCheck(a){var b=false;if(a==null)return b;var d,c,e;d=a.oldpasswd.value;if(d==""){alert("Please enter your current password.");a.oldpasswd.focus();return b}c=a.newpasswd.value;if(containsSpace(c)){alert("Your new password cannot contain any spaces.");a.newpasswd.focus();return b}e=a.verifypasswd.value;if(c!=e){alert("Your new password and the retyped new password are not the same.");a.verifypasswd.focus();return b}return true}function changeQuesAnsCheck(a){if(a==null)return false;var c,b;c=a.oldpasswd.value;if(c==""){alert("Please enter your current password.");a.oldpasswd.focus();return false}b=a.pwdans.value;if(b==""){alert("Please enter your new answer.");a.pwdans.focus();return false}return true}function CheckFilenameExtensions(){var a=true,e=false,k=document.getElementById("ALLOWED_EXTENSIONS"),f,l,i,b,g,m,o=0,c=e,d=a,h,j,n;if(!k)return a;f=k.value;l=new RegExp("^([a-zA-Z]:(\\\\|/)|file://|/|\\\\\\\\)[^\\\\/:].*\\..+");while(!c){i=document.getElementById("upload"+ ++o);if(!i){c=a;break}b=i.value;if(b.length==0)continue;if(navigator.userAgent.indexOf("MSIE")!=-1)if(!l.test(b)){d=e;c=a;break}g=b.split(".");if(g.length<2){d=e;c=a;break}m=g[g.length-1].toUpperCase();if(f.indexOf("^"+m+"^")==-1){d=e;c=a;break}}if(!d){h=document.getElementById("progbar");if(h)h.className+=" hidden";j=f.substr(1,f.length-2).replace(/\^/g,", ");n="@MYCHART@FILENAME@ is invalid or does not have an allowed extension. The allowed extensions are @MYCHART@ALLOWEDEXTENSIONS@.".replace("@MYCHART@FILENAME@",b).replace("@MYCHART@ALLOWEDEXTENSIONS@",j);alert(n)}return d}function checkEnter(b,a){if(b!=null){var c=b.keyCode;if(c=="13"){a!=null&&a.click();return false}}return true}function isBasicInlineValidationError(a,h,e,j,o,s,q,i,p,n,b){var d=true,f=null,c=false,g=c,k=c,m=c,l=c,r=c;if(e==""||e==f)e="<span class=\"clearlabel\">Error: </span>This field is required.";if(i==""||i==f)i=e;if(a==f)return c;if(b==""||b==f)b=-1;if(a.maxLength>1e4)j=c;if(j&&b<0)if(a.id=="dob")b=a.maxLength-2;else b=a.maxLength;if(a.value==""||a.value==f){g=d;k=d}else if(j&&a.value.length<b&&a.value.length>0){g=d;m=d}else if(n&&isNaN(a.value)){g=d;l=d}if(g){if(!o)if(k)if(!p){turnOnHighlight(a);changeErrorField(h,e)}else isHighlighted(a)&&changeErrorField(h,e);else if(m||l||r){turnOnHighlight(a);changeErrorField(h,i)}}else{!q&&turnOffHighlight(a);!s&&changeErrorField(h,"",d)}return g}function changeErrorField(d,b,e,f){var a,c=true;if(d.length>0)if(a=document.getElementById(d)){if(e)if(a.innerHTML==="&nbsp;"||a.innerHTML==="")c=false;if(c)if(b!="")if(f)a.innerHTML=b;else a.innerHTML="* "+b;else if(containsClassName(document.documentElement,"mobile"))a.innerHTML="";else a.innerHTML="&nbsp;"}}function turnOnHighlight(a){if(a.className.search("inputHighlighted")<0)a.className=a.className+" inputHighlighted"}function turnOffHighlight(a){if(isHighlighted(a))a.className=a.className.replace(" inputHighlighted","")}function highlightIfEmpty(a,c){var b;if(a!=null){b=a.value;if(b=="")!c&&turnOnHighlight(a);else turnOffHighlight(a)}}function isHighlighted(a){return a==null?false:a.className.search("inputHighlighted")>-1}function validateEmptinessOfTwoRelatedFields(a,b){if(a.value.length<1)if(b.value.length<1)isHighlighted(b)&&turnOnHighlight(a);else turnOnHighlight(a);else turnOffHighlight(a)}function checkIfFocusOnPrevField(f,e,c,d){var a,b;b=d-1;if(b>0)if(checkKeyPress(f,EQUAL_TO_CODE,"8"))if(e.value==""){a=document.getElementById(c+b);if(a!=null){a.focus();isTabAllowed=true;a.value=a.value}}}function autotab(c,a,b){if(checkKeyPress(c,ALPHANUMERIC)){if(a.getAttribute&&a.value.length==a.getAttribute("maxlength")){b.focus();b.select();isTabAllowed=false}}else if(checkKeyPress(c,EQUAL_TO_CODE,"16"))isTabAllowed=true}function isDiscreteFieldsError(q,f,m,h,j,r,p,s,l,u){var d=true,i=null,c=false,b,a,k=c,t=c,g=c,n=c,v=c,e,o=0,w=c;e=j;g=s==i;if(j==""||j==i)j="<span class=\"clearlabel\">Error: </span>This field is required.";if(r=="")r=j;if(l)for(b=1;b<=f;b++){a=document.getElementById(q+b);if(a!=i)if(a.value!=""){l="";e=r;b=f}else if(isHighlighted(a))l=""}if(!g){if(isHighlighted(s))v=d;k=isBasicInlineValidationError(s,h,e,m,p,1,"",e,l,u)}if(!k){if(f==i)f=1;for(b=1;b<=f;b++){if(f==1)a=document.getElementById(q);else a=document.getElementById(q+b);if(a.maxLength>1e4)m=c;if(m)if(a.id=="dob"||a.id=="ssn")o=a.maxLength-2;else o=a.maxLength;if(a!=i){if(a.value==""){k=d;if(!p&&!t&&!w&&g){turnOnHighlight(a);changeErrorField(h,e)}}else if(m&&a.value.length<o&&a.value.length>0){k=d;t=d;if(!p&&g){turnOnHighlight(a);changeErrorField(h,e)}}else g&&turnOffHighlight(a);if(isHighlighted(a))n=d}}}else n=d;if(k){!n&&changeErrorField(h,"");return d}changeErrorField(h,"");return c}function checkIfTabAllowed(a,b){if(checkKeyPress(a,EQUAL_TO_CODE,"16"))isTabAllowed=true;else if(checkKeyPress(a,EQUAL_TO_CODE,"9"))if(b.value.length<1&&!isTabAllowed){cancelEvent(a);isTabAllowed=true}}function cancelEvent(a){a.cancelBubble=true;a.returnValue=false;if(a.stopPropagation){a.stopPropagation();a.preventDefault()}}function easyDOBEntry(a,d,e,b){var c;if(a!=null)if(d){if(e){if(a.value.length==2&&a.value>0)if(b)isTabAllowed=true;else a.value="19"+a.value}else if(a.value.length==1&&a.value>0)if(b)isTabAllowed=true;else a.value="0"+a.value}else{c=a.length;if(c){if(a[0].value<10&&a[0].value>0&&a[0].value.length<2)a[0].value="0"+a[0].value;if(a[1].value<10&&a[1].value>0&&a[1].value.length<2)a[1].value="0"+a[1].value;if(a[2].value<100&&a[2].value.length==2)a[2].value="19"+a[2].value}else if(a.value<100&&a.value>0)a.value="19"+a.value}}function removeCharFromField(a,e,d,b){var c;if(b==null||b=="")b=REMOVE_IF_EQUAL_TO_REMOVE_CHAR;c=charKeyPressed(a);if(b==REMOVE_IF_EQUAL_TO_REMOVE_CHAR){if(checkKeyPress(a,GREATER_THAN_CODE,"0")&&!checkKeyPress(a,EQUAL_TO_CODE,"9")&&!checkKeyPress(a,EQUAL_TO_CODE,"16"))c==d&&cancelEvent(a)}else if(b==REMOVE_NONNUMERIC)!(checkKeyPress(a,EQUAL_TO_CODE,"8")||checkKeyPress(a,EQUAL_TO_CODE,"9")||checkKeyPress(a,EQUAL_TO_CODE,"27")||checkKeyPress(a,EQUAL_TO_CODE,"46")||checkKeyPress(a,EQUAL_TO_CODE,"37")||checkKeyPress(a,EQUAL_TO_CODE,"39"))&&isNaN(c)&&cancelEvent(a)}function charKeyPressed(a){var b;if(!a)a=window.event;if(a.keyCode)b=a.keyCode;else if(a.which)b=a.which;return b>0?String.fromCharCode(b):""}function checkKeyPress(a,e,b){var d=true,c=false;switch(e){case ALPHANUMERIC:if(a.keyCode>=48&&a.keyCode<=57||a.keyCode>=65&&a.keyCode<=90||a.keyCode>=96&&a.keyCode<=105||a.which>=48&&a.which<=57||a.which>=65&&a.which<=90||a.which>=96&&a.which<=105)c=d;break;case EQUAL_TO_CODE:if(a.keyCode==b||a.which==b)c=d;break;case GREATER_THAN_CODE:if(a.keyCode>b||a.which>b)c=d;break;case LESS_THAN_CODE:if(a.keyCode<b||a.which<b)c=d;break;default:return c}return c}function ShowPharmacyHours(e,d,b){var a=document.getElementById(d).selectedIndex,c;if(a!=null){c=e+a;if(a==0)document.getElementById(b).innerHTML="&nbsp;";else document.getElementById(b).innerHTML=document.getElementById(c).value}}function clearRadioSelection(c){var b,a;b=document.getElementsByName(c);for(a=0;a<b.length;a++)if(b[a].type=="radio")b[a].checked=false}function UpdateDeliveryMethods(y,x,v,w,r){var g=false,j="pickupoptions",d=true,c="hidden",n="deliveryoptions",o,q,p,k,l,u,s,e,t,b,h,a,i,m,f;o=document.getElementById(x).selectedIndex;if(o!=null){q=y+o;if(document.getElementById(q)==null){a=document.getElementById(n);if(a){applyClass(a,c);a.disabled=d}showAndHideButtons("send","paynext");i=document.getElementById("paymentoptions");if(i){applyClass(i,c);i.disabled=d}hidePickupFields(j);return}p=document.getElementById(q).value;k=p.split("^");hidePickupFields(j);if(p.length==0){a=document.getElementById(n);if(a){applyClass(a,c);a.disabled=d}}else{m=g;a=document.getElementById(n);if(a){removeClassNames(a,c);a.disabled=g}for(e=1;e<4;e++){u=v+e;s=w+e;b=document.getElementById(u);if(b){if(b.checked&&r==1){m=d;b.value==1&&showPickupFields(j)}else b.checked=g;b.disabled=d;applyClass(b,c);h=document.getElementById(s);applyClass(h,c);h.disabled=d}else continue;for(l=0;l<k.length;l++){t=k[l].split("|");if(t[0]==e){b.disabled=g;removeClassNames(b,c);removeClassNames(h,c);h.disabled=g;if(!f)f=b}}}if(k.length>0&&!m&&f){f.checked=d;f.value==1&&showPickupFields(j)}}UpdatePaymentMethods("pharmacymethods","pharmacy","deliverymethod","paymentmethod","paymentmethodlabel",r)}}function UpdatePaymentMethods(C,B,y,z,A,x){var j=false,i=true,f="hidden",t="paymentoptions",q="paynext",p="send",s,w,v,g,a,k,u,e,m,r,d,b,n,l,c,o,h;showAndHideButtons(p,q);c=document.getElementById(t);if(c){applyClass(c,f);c.disabled=i}s=document.getElementById(B).selectedIndex;r=getRadioValue(y);if(s!=null&&r.length!=0){w=C+s;v=document.getElementById(w).value;g=v.split("^");l="";for(a=0;a<g.length;a++){d=g[a].indexOf("|");if(d<0)e=g[a];else e=g[a].substring(0,d);if(r==e){if(d>=0)l=g[a].substring(d+1);break}}if(l.length>0){o=j;m=l.split("|");c=document.getElementById(t);if(c){removeClassNames(c,f);c.disabled=j}b=document.getElementsByName(z);for(a=0;a<b.length;a++){d=b[a].id.indexOf("_");if(d<0)continue;e=b[a].id.substring(d+1);if(e.length==0)continue;u=A+"_"+e;k=document.getElementById(u);if(x&&b[a].checked){o=i;b[a].value==2&&showAndHideButtons(q,p)}else b[a].checked=j;if(!h)h=b[a];b[a].disabled=i;applyClass(b[a],f);applyClass(k,f);k.disabled=i;for(n=0;n<m.length;n++)if(m[n]==e){b[a].disabled=j;removeClassNames(b[a],f);removeClassNames(k,f);k.disabled=j}}if(m.length>0&&!o&&h){h.checked=i;h.value==2&&showAndHideButtons(q,p)}}}}function HidePharmacyText(b,e,d,f){var c,a;if(!b)b=document.getElementById(e);if(b){c=document.getElementById(d);a=document.getElementById(f);if(c&&a)if(b.options[b.selectedIndex].value==c.value){a.disabled=false;removeClassNames(a,"hidden")}else{a.disabled=true;applyClass(a,"hidden")}}}function getRadioValue(c){var a,b;a=document.getElementsByName(c);if(a.length==0)return"";for(b=0;b<a.length;b++)if(a[b].checked==true)return a[b].value;return""}function showAndHideButtons(d,c){var b,a;b=document.getElementById(d);if(b){b.disabled=false;removeClassNames(b,"hidden")}a=document.getElementById(c);if(a){a.disabled=true;applyClass(a,"hidden")}}function showPickupFields(a){if(document.getElementById(a))document.getElementById(a).className=""}function hidePickupFields(a){if(document.getElementById(a))document.getElementById(a).className="hidden"}function isValidEmail(b){var a=new RegExp(/^\s*[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,4}\s*$/);return a.test(b)}function $T(a,c){var b="undefined";if(a){if(typeof a.innerText!==b)a.innerText=c;if(typeof a.textContent!==b)a.textContent=c}return a}function clearElement(a){if(!a)return;a.innerHTML="";a.value="";a.innerText="";while(a.hasChildNodes())a.removeChild(a.lastChild)}var MyChartLocale="en-US";function decodeMnemonics(c,a){var b,d;a=a||{};for(b in a)if(typeof b==="string"){d=new RegExp(b,"g");c=c.replace(d,a[b])}return c}var HTMLEncodeDecodeDiv=document.createElement("div");function HTMLUnencode(a){HTMLEncodeDecodeDiv.innerHTML=a||"";return HTMLEncodeDecodeDiv.innerText||HTMLEncodeDecodeDiv.textContent}function HTMLEncode(a){HTMLEncodeDecodeDiv.appendChild(document.createTextNode(a||""));return HTMLEncodeDecodeDiv.innerHTML}function createElement(d,b,c){var a=document.createElement(d||"div");if(b)a.className=b;if(c)a.id=c;return a}function createImage(c,e,d,b){var a=createElement("img",c,e);a.src=makeStaticLink("/images/"+(d||""));a.alt=b||"";a.title=b||"";return a}function getOffset(a,b){var c=a[b];a=a.offsetParent;while(a){c+=a[b];a=a.offsetParent}return c}function createAlert(d,f,b){if(d.length===0){clearElement(b);return}var a,e,c;a=createElement("span","alert");if(f===true){e=createImage("","","yield.png","Warning");a.appendChild(e)}c=createElement("div","errHolder");c.innerHTML=d;a.appendChild(c);if(b){b.appendChild(a);b.className=""}return a}function getChild(d,c){var b="#comment",a=d.firstChild;while(c>0){c--;while(a&&(a.nodeName===b||a.nodeName==="#text"))a=a.nextSibling;if(!a)return null;a=a.nextSibling}while(a&&(a.nodeName===b||a.nodeName==="#text"))a=a.nextSibling;return a}function openWindow(h,b,c){var f="openWindows",e="undefined",g,a,d;if(typeof c===e||c==="")c="status=0,menubar=0,scrollbars=1,resizable=1,toolbar=0";a=getCookie(f,true);if(a==="")d=0;else d=a.split("^").length;if(typeof b===e||b==="")b="mycWin"+d;g=window.open(h,b,c);a=a+(a.length>0?"^":"")+b;setCookie(f,a,true)}function closeAllWindows(){var f="openWindows",d,c,e,b,g,a;d=getCookie(f,true);if(d){c=d.split("^");g=c.length;for(b=0;b<g;b++){e=c[b];if(e){a=window.open("",e,"");a&&a.close&&a.close()}}deleteCookie(f,true)}}function setCookie(c,e,d,b){var a;if(c){a=c+(d?"4"+makeLink("").replace(new RegExp("/","g"),"").toLowerCase():"")+"="+escape(e)+";path=/";a+=b?"; expires="+b.toGMTString():"";document.cookie=a}}function getCookie(j,i){var b,c,h,a,g,f,d,e;e="";b=document.cookie;if(!b||b.length===0)return e;c=b.split(";");if(c){g=new RegExp(j+(i?"4"+makeLink("").replace(new RegExp("/","g"),"").toLowerCase():"")+"s?=");f=/^\s+|\s+$/g;for(a=0;a<c.length&&!h;a=a+1){d=c[a].replace(f,"");if(d.search(g)>-1){e=unescape(d.substr(d.indexOf("=")+1)).replace(f,"");h=true}}}return e}function deleteCookie(a,b){a&&setCookie(a,"",b,new Date(1))}if(typeof WP==="undefined")WP={};if(typeof WP.myPath==="undefined"){WP.myPath=self.location.pathname.substr(0,self.location.pathname.indexOf(".asp"));if(WP.myPath.length===0)WP.myPath=self.location.pathname.substr(0,self.location.pathname.indexOf(".htm"));if(WP.myPath.length===0)WP.myPath=self.location.pathname;else WP.myPath=self.location.pathname.substr(0,WP.myPath.lastIndexOf("/")+1)}function getPrefix(b){var a;if(b)a="";else a="";if(a.length===0)a=WP.myPath+"@mychart@url@";return a}function applyPrefix(e,a){var d,c,b;a=a||"";if(!e)return a;c=a.indexOf("#");if(c>0){d=a.substring(c+1);a=a.substring(0,c)}b=e.replace(/@mychart@url@/gi,a);b=b.replace(/@mychart@wrappedurl@/gi,encodeURIComponent(a));if(c>0)b=b+"#"+d;return b}function makeLink(a){if(a.indexOf("http")===0)return a;var b;b=getPrefix(false);return applyPrefix(b,a)}function makeStaticLink(a){var b,c;a=a.replace(/\\/g,"/");if(a.indexOf(".")===0)a=a.substring(1);if(a.indexOf(".")===0)a=a.substring(1);if(a.indexOf("/")===0)a=a.substring(1);b=getPrefix(true);c=applyPrefix(b,"en-US/"+a);return c}function disableEmptyFormInputs(d){var c,b,a;c=document.getElementById(d);b=c.getElementsByTagName("input");for(a=0;a<b.length;a++)!b[a].value.length&&b[a].setAttribute("disabled",true)}if(typeof $$WP!=="undefined"&&typeof $$WP.Strings!=="undefined"){$$WP.Strings.setDefaultNamespace("Global.TimeOutPopup");$$WP.Strings.add("Message","Your session will expire in @MYCHART@SecondsLeft@ seconds.  Select an option below to continue.");$$WP.Strings.add("Title","Your session is expiring");$$WP.Strings.add("WithChangesMessage","Your session will expire in @MYCHART@SecondsLeft@ seconds.  Your form has unsaved changes.  Select an option below to continue.");$$WP.Strings.add("WithChangesTitle","You will lose your unsaved changes");$$WP.Strings.add("StayButtonText","Stay Logged In");$$WP.Strings.add("LogOutButtonText","Log Out");$$WP.Strings.add("FromHyperspaceStayButtonText","Resume");$$WP.Strings.add("FromHyperspaceMessage","Click \"Resume\" to continue.  Otherwise, the activity will time out in @MYCHART@SecondsLeft@ seconds.");$$WP.Strings.add("FromHyperspaceTitle","This activity is about to time out");$$WP.Strings.clearDefaultNamespace();$$WP.Strings.setDefaultNamespace("Global.SafeToRedirectPopup");$$WP.Strings.add("Title","You have unsaved changes");$$WP.Strings.add("Message","Would you like to continue without saving?");$$WP.Strings.add("StayButtonText","Stay on this Page");$$WP.Strings.add("LeaveButtonText","Continue without Saving");$$WP.Strings.clearDefaultNamespace();$$WP.Strings.setDefaultNamespace("Global.LoggingOutPopup");$$WP.Strings.add("Title","");$$WP.Strings.add("Message","You are being logged out.");$$WP.Strings.clearDefaultNamespace();$$WP.Strings.setDefaultNamespace("Global");$$WP.Strings.add("JumpToContent","Click to jump to content");$$WP.Strings.add("ClosePopupAltWithTitle","A new popup window called @MYCHART@PopupTitle@ has appeared. Click here to close this popup.");$$WP.Strings.add("ClosePopupAlt","A new popup window has appeared. Click here to close this popup.");$$WP.Strings.add("MessageBoxOK","OK");$$WP.Strings.add("GenericLoadingMessage","Loading...");$$WP.Strings.clearDefaultNamespace()}try{if($$WP&&$$WP.Utilities&&!$$WP.Utilities.isValidBrowser()&&window.location.href.indexOf("Home/Error?Code=")===-1)window.location=makeLink("Home/Error?Code=4")}catch(ex){}